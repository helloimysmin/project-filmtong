<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Anime Template">
<meta name="keywords" content="Anime, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1, minimum-scale=1">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>FilmTong</title>
<%@ include file="/WEB-INF/views/common/css_coomon.jsp"%>
</head>
<body>
<%@include file="/WEB-INF/views/common/header.jsp" %>
    <!-- Hero Section Begin -->
    <section class="hero" >
        <div class="container">
            <div class="hero__slider owl-carousel">
                <div class="hero__items">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="hero__text" >
                                <h2></h2>
                                 <div class="label"></div>
                                  <ul>
                            	 <li>
                                </li>                             
                            </ul>
                            </div>
                        </div>
                    </div>
                </div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
 								<div class="label"></div>
								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="hero__items">
					<div class="row">
						<div class="col-lg-6">
							<div class="hero__text">
								<h2></h2>
								 <div class="label"></div>

								<ul>
									<li></li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
        </div>
    </section>
    <!-- Hero Section End -->
    <!-- Product Section Begin -->
	<section class="product spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-8">
					<div class="trending__product">
						<div class="row">
							<div class="col-lg-8 col-md-8 col-sm-8">
								<div class="section-title">
									<h4>Recommend Movie</h4>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-sm-4">
								<div class="btn__all">
									<a href="/views/recommend-view" class="primary-btn">View All 
										<span class="arrow_right"></span>
									</a>
								</div>
							</div>
						</div>
						<div class="row">
						<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
								  <div class="product__item__pic " >																																			
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																													
											<p class="mvTitle"></p>									
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic " >									
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																										
												<p class="mvTitle"></p>							
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic " >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																													
												<p class="mvTitle"></p>										
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic " >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																												
										<p class="mvTitle"></p>
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic " >									
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																			
												<p class="mvTitle"></p>
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic " >									
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">																			
												<p class="mvTitle"></p>
										<ul>
											<li></li>											
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>										
									</div>
								</div>
							</div>
						</div>
						<div class="popular__product">
							<div class="row">
								<div class="col-lg-8 col-md-8 col-sm-8">
									<div class="section-title">
										<h4>Popular Movie</h4>
									</div>
								</div>
								<div class="col-lg-4 col-md-4 col-sm-4">
									<div class="btn__all">
										<a href="/views/popular-view" class="primary-btn">View All <span
											class="arrow_right"></span></a>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
							<div class="col-lg-4 col-md-6 col-sm-6">
									<div class="product__item">
										<div class="product__item__pic">											
											<div class="view">
												<i class="fa fa-eye"></i>
											</div>
										</div>
										<div class="product__item__text">											
													<p class="mvTitle"></p>
											<ul>
												<li></li>
											</ul>
											<div class="comment">
												<i class="fa fa-comments"></i>
											</div>											
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="recent__product">
						<div class="row">
							<div class="col-lg-8 col-md-8 col-sm-8">
								<div class="section-title">
									<h4>Hall of fame</h4>
								</div>
							</div>
							<div class="col-lg-4 col-md-4 col-sm-4">
								<div class="btn__all">
									<a href="/views/hof-view" class="primary-btn">View All <span
										class="arrow_right"></span></a>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">								
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">									
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >										
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">									
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >									
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">									
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
								<div class="col-lg-4 col-md-6 col-sm-6">
								<div class="product__item">
									<div class="product__item__pic" >									
										<div class="view">
											<i class="fa fa-eye"></i>
										</div>
									</div>
									<div class="product__item__text">									
												<p class="mvTitle"></p>
											<ul>
											<li></li>
										</ul>
										<div class="comment">
											<i class="fa fa-comments"></i>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			<!-- BOX OFFICE -->
				<div class="col-lg-4 col-md-6 col-sm-6">
					<div class="product__sidebar">
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
							<button id="boxoffice-btn" onclick="window.open('https://www.kobis.or.kr/kobis/business/main/main.do')">--> 자세히 보러가기</button>
								<div class="section-title">	
									<h4></h4>
								</div>
							<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
						<hr>
						<div class="product__sidebar__comment__item">
							<div class="product__sidebar__comment__item__text">
										<p class="mvTitle"></p>
								<ul>
									<li></li>
									<li></li>
								</ul>
								<span></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>	
	</div>	
</div>
</section>
	<!-- Product Section End -->
<%@include file="/WEB-INF/views/common/footer.jsp" %>
<%@include file="/WEB-INF/views/common/js_common.jsp" %>
<script>
window.onload = function() {
	getMainMovies();
	getRecommendMovies();
	getPopularMovies();
	getHofMovies();
	getBoxOffices();
	searchMovies();	
}
function getMainMovies() {
	fetch('/popular-moviesRandom')
	.then(function(res) {
		return res.json();
	})
	.then(function(data){
		const heroItems = document.querySelectorAll('.hero__items');
		const heroLabels = document.querySelectorAll('.hero__text .label');
		const heroH2 = document.querySelectorAll('.hero__text h2');
		const heroP = document.querySelectorAll('.hero__text p');
		for(let i=0; i<heroItems.length; i++) {
			heroItems[i].style.backgroundImage="url('https://image.tmdb.org/t/p/original" + data[i].backdropPath + "')";
			heroItems[i].setAttribute('onclick',"location.href=\'/views/movie-trailer?id=" + data[i].id + "'");
			heroLabels[i].innerHTML = data[i].name;
			heroH2[i].innerHTML = data[i].title;
		}
	})
}
function getRecommendMovies() {
	fetch('/recommend-moviesRandom')
	.then(function(res) {
		return res.json();
	})
	.then(function(data){
		const itemPics = document.querySelectorAll('.trending__product .product__item__pic');
		const comments = document.querySelectorAll('.trending__product .product__item .comment');
		const views = document.querySelectorAll('.trending__product .product__item__pic .view');
		const itemMvTitle = document.querySelectorAll('.trending__product .product__item__text .mvTitle');
		const itemLitags = document.querySelectorAll('.trending__product .product__item__text ul li');
		for(let i=0; i<itemPics.length; i++) {
			itemPics[i].style.backgroundImage = "url('https://image.tmdb.org/t/p/original" + data[i].posterPath + "')";
			itemPics[i].setAttribute('onclick', "location.href=\'/views/movie-trailer?id=" + data[i].id + "'");
			comments[i].innerHTML = data[i].name;
			views[i].innerHTML = data[i].voteAverage + '점';
			itemMvTitle[i].innerHTML = data[i].title;
			itemLitags[i].innerHTML = data[i].originalTitle;
		}
	})
}
function getPopularMovies() {
	fetch('/popular-moviesRandom')
	.then(function(res) {
		return res.json();
	})
	.then(function(data) {
		const itemPics = document.querySelectorAll('.popular__product .product__item__pic');
		const comments = document.querySelectorAll('.popular__product .comment');
		const views = document.querySelectorAll('.popular__product .product__item__pic .view');
		const itemMvTitle = document.querySelectorAll('.popular__product .product__item__text .mvTitle');
		const itemLitags = document.querySelectorAll('.popular__product .product__item__text ul li');
		for(let i=0; i<itemPics.length; i++) {
			itemPics[i].setAttribute('onclick', "location.href=\'/views/movie-trailer?id=" + data[i].id + "'");
			itemPics[i].style.backgroundImage = "url('https://image.tmdb.org/t/p/original" + data[i].posterPath + "')";
			comments[i].innerHTML = data[i].name;
			views[i].innerHTML = data[i].voteAverage + '점';
			itemMvTitle[i].innerHTML = data[i].title;
			itemLitags[i].innerHTML = data[i].originalTitle;
		}
	})
}
function getHofMovies() {
	fetch('/hof-movies')
	.then(function(res) {
		return res.json();
	})
	.then(function(data) {
		const itemPics = document.querySelectorAll('.recent__product .product__item__pic');
		const comments = document.querySelectorAll('.recent__product .product__item__text .comment');
		const views = document.querySelectorAll('.recent__product .product__item__pic .view');
		const itemMvTitle = document.querySelectorAll('.recent__product .product__item__text .mvTitle');
		const itemLitags = document.querySelectorAll('.recent__product .product__item__text ul li');
		for(let i=0; i<itemPics.length; i++) {
			itemPics[i].setAttribute('onclick', "location.href=\'/views/movie-trailer?id=" + data[i].id + "'");
			itemPics[i].style.backgroundImage = "url('https://image.tmdb.org/t/p/original" + data[i].posterPath + "')";
			comments[i].innerHTML = data[i].name;
			views[i].innerHTML = data[i].voteAverage + '점';
			itemMvTitle[i].innerHTML = data[i].title;
			itemLitags[i].innerHTML = data[i].originalTitle;
		}
	})
}
function getBoxOffices() {
	fetch('/box-offices')
	.then(function(res) {
		return res.json();
	})
	.then(function(data) {
		const mvTitle = document.querySelectorAll('.product__sidebar__comment__item__text .mvTitle');
		const firstLi = document.querySelectorAll('.product__sidebar__comment__item__text li:first-child');
		const lastLi = document.querySelectorAll('.product__sidebar__comment__item__text li:last-child');
		const spans = document.querySelectorAll('.product__sidebar__comment__item__text span')
		for(let i=0; i<data.length; i++) {
			document.querySelector('.product__sidebar__comment__item__text .section-title h4').innerHTML = 'BOX OFFICE (' + data[i].targetDt + ')';
			mvTitle[i].innerHTML = data[i].movieNm;
			firstLi[i].innerHTML = '당일 상영 중인 스크린 수 : ' + data[i].scrnCnt;
			lastLi[i].innerHTML = '순위 : ' + data[i].rank;
			spans[i].innerHTML = '누적 관객 수 : ' + data[i].audiAcc + '명';
		}
	})
}
</script>
</body>
</html>